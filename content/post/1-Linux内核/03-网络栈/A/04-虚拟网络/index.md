---
title: "Linux 虚拟网络"
description: 
date: 2024-10-07
image: 
math: 
license: 
hidden: false
comments: true
draft: false
categories:
 - Linux内核
---

- [1. Linux Bridge](#1-linux-bridge)
- [2. Linux Bond](#2-linux-bond)
- [3. Linux VLAN](#3-linux-vlan)
    - [3.1. linux中VLAN的实现方式](#31-linux中vlan的实现方式)



# 1. Linux Bridge
Bridge，就是桥接，是一种连接网络设备的方式，把一台机器上的若干网络接口“连接”起来，当其中一个网口收到报文，会被复制到其他网口并发送出去，这样网口之间的报文就能够相互转发。看起来像是“交换机”，但是有所不同，例如linux内核就支持网口的桥接，交换机只会也只需要`转发`与`丢弃`，而Linux内核本身就是一台机器，它也是要接收网络报文的，也就是`转发`，`丢弃`，`接收`。

Linux内核通过虚拟的网桥设备实现桥接，这个“网桥”可以连接若干个以太网接口设备。在虚拟化平台上，我门当然要先创建“网桥”，然后连接一个物理网卡，在我们将创建虚拟机的时候，将虚拟机的网口连接到这个网桥上，就像是将多个PC设备连接到交换机，从而将它们桥接起来。    

# 2. Linux Bond
将多个物理网卡绑定为一个逻辑网卡，这样可以实现带宽倍增，提高吞吐量。


# 3. Linux VLAN
将网络划分为多个逻辑网络，使得不同的VLAN可以在同一物理网段上实现隔离通信，是一种基于`网络层`的虚拟局域网技术，是通过内核的网络子系统实现的，当一个VLAN数据包进入系统时，内核会根据数据包中的VLAN标记信息，将数据包转发到相应的VLAN接口或者物理接口上。linux中有两种方法实现VLAN：`内核模块`、`VLAN交换机`，内核模块方式更加灵活，需要更多配置工作，VLAN更易于配置和管理，但是会带来硬件成本。
## 3.1. linux中VLAN的实现方式
`内核模块方式`  
在内核中加载VLAN模块来实现，


`VLAN交换机`
通过软件模拟交换机。